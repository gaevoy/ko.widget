define("Widget",["jquery","knockout"],function(n,i){function e(e,t){var o=this,d=null;this.setTemplate=function(n,i){var e=new RegExp("(<!--"+n+"Template-->[ \r\n]*)((.|\r|\n)*?)([ \r\n]*<!--/"+n+"Template-->)","g");t=t.replace(e,"$1"+i+"$4")},this.exportMethods=function(){for(var n=arguments,i=0;i<n.length;i++){var t=n[i];void 0!=e&&void 0!==e[t]&&(o[t]=e[t])}},this.init=function(){return e.init?e.init.apply(e,arguments):void 0},this.appendTo=function(o){d=o;var s=n(t);if(d.append(s),null==e)throw new Error("Widget can not be attached because of viewModel is null");i.applyBindings(e,s[0]),e.bound&&e.bound()},this.dispose=function(){d&&d[0]&&(e.unbound&&e.unbound(),e.dispose&&e.dispose(),i.cleanNode(d[0]),d=null)},this.settings=function(n){if(n)for(var i in n)if(n.hasOwnProperty(i))if(/.*\.settings$/.test(i)){var t=e[i.replace(".settings","")];t().settings(n[i])}else{var t=e[i];t&&t(n[i])}}}return e.extend=function(n,i){i=void 0===i?[]:i,e.apply(n,i)},e}),define("ko.bindings/inject",["jquery","knockout"],function(n,i){function e(e,t){function d(e){a&&a.dispose();var t=null;a=e,a&&(t=n('<div class="widget"></div>'),t.appendTo(s),a.appendTo(t),o(t,a));var d=t?t.prev():s.children().last();i.bindingHandlers.inject.transition(d,t,s)}var s=n(e),a=null,r=null;d(i.unwrap(t)),i.isObservable(t)&&(r=t.subscribe(d)),i.utils.domNodeDisposal.addDisposeCallback(e,function(){r&&r.dispose(),a&&a.dispose()})}function t(n){if(n.name)return n.name;var i=n.toString().split("\n")[0],e=/^function ([^\s(]+).+/;return e.test(i)?i.split("\n")[0].replace(e,"$1")||null:null}function o(n,i){n&&n.attr("data-widget",t(i.constructor)||"unknown")}return i.bindingHandlers.inject={init:function(n,i){return e(n,i()),{controlsDescendantBindings:!0}},transition:function(n){n&&n.remove()}},e}),define("ko.bindings/injectAnimation",["jquery","knockout","./inject"],function(n,i){i.bindingHandlers.injectAnimation={update:function(e,t){n(e).data("injectAnimation",i.unwrap(t()))},animations:{none:function(n){n&&n.remove()},fadeIn:function(n,i){n&&n.remove(),n&&i&&i.hide().fadeIn()}}},i.bindingHandlers.inject.transition=function(n,e,t){var o=t.data("injectAnimation");if(o){var d=i.bindingHandlers.injectAnimation.animations[o];d&&d(n,e)}}}),define("WindowHost/WindowViewModel",["knockout"],function(n){return function(){var i=this;this.widget=n.observable(null),this.dispose=function(){i.widget(null)}}}),define("WindowHost/WindowHostViewModel",["knockout","./WindowViewModel"],function(n,i){return function(){var e=this,t="wnd",o={};this.windows=n.observableArray([]),this.update=function(n,d){var s=o[t+n];s||(s=new i(n),o[t+n]=s,e.windows.push(s)),s.widget(d)},this.remove=function(n){var i=o[t+n];i&&(i.dispose(),e.windows.remove(i))}}}),define("WindowHost/WindowHostWidget",["Widget","WindowHost/WindowHostViewModel"],function(n,i){return function(){n.extend(this,[new i,'<div class="window-host" data-bind="foreach: windows"><div data-bind="inject: widget"></div></div>']),this.exportMethods("update","remove")}}),define("ko.bindings/windowInject",["jquery","knockout","WindowHost/WindowHostWidget"],function(n,i,e){function t(){return d||(d=new e,d.appendTo(n("body")),d.init()),d}i.bindingHandlers.windowInject={init:function(n,e){var d=o++,s=e();return i.computed({read:function(){var n=i.unwrap(s);i.dependencyDetection.ignore(function(){t().update(d,n)})},disposeWhenNodeIsRemoved:n}),i.utils.domNodeDisposal.addDisposeCallback(n,function(){t().remove(d)}),{controlsDescendantBindings:!0}}};var o=1,d=null}),define("ko.widget",["knockout","Widget","ko.bindings/inject","ko.bindings/injectAnimation","ko.bindings/windowInject"],function(n,i,e){return i.inject=e,n.Widget=n.widget=i,i});