define("Widget",["jquery","knockout"],function(n,i){function t(t,e){var o=this,d=null;this.setTemplate=function(n,i){var t=new RegExp("(<!--"+n+"Template-->[ \r\n]*)((.|\r|\n)*?)([ \r\n]*<!--/"+n+"Template-->)","g");e=e.replace(t,"$1"+i+"$4")},this.exportMethods=function(){for(var n=arguments,i=0;i<n.length;i++){var e=n[i];void 0!=t&&void 0!==t[e]&&(o[e]=t[e])}},this.init=function(){return t.init?t.init.apply(t,arguments):void 0},this.appendTo=function(o){d=o;var r=n(e);if(d.append(r),null==t)throw new Error("Widget can not be attached because of viewModel is null");i.applyBindings(t,r[0]),t.bound&&t.bound()},this.dispose=function(){d&&d[0]&&(t.unbound&&t.unbound(),t.dispose&&t.dispose(),i.cleanNode(d[0]),d=null)},this.settings=function(n){if(n)for(var i in n)if(n.hasOwnProperty(i))if(/.*\.settings$/.test(i)){var e=t[i.replace(".settings","")];e().settings(n[i])}else{var e=t[i];e&&e(n[i])}}}return t.extend=function(n,i){i=void 0===i?[]:i,t.apply(n,i)},t}),define("widgetFor",["knockout"],function(n){var i="__ko_widget__";return function(t,e){return 2!=arguments.length?n.utils.domData.get(t,i):(n.utils.domData.set(t,i,e),void 0)}}),define("ko.bindings/inject",["jquery","knockout","../widgetFor"],function(n,i,t){function e(e,o){function r(o){u&&u.dispose();var r=null;u=o,u&&(r=n('<div class="widget"></div>'),r.appendTo(s),u.appendTo(r),d(r,u)),t(e,u);var a=r?r.prev():s.children().last();i.bindingHandlers.inject.transition(a,r,s)}var s=n(e),u=null,a=null;r(i.unwrap(o)),i.isObservable(o)&&(a=o.subscribe(r)),i.utils.domNodeDisposal.addDisposeCallback(e,function(){a&&a.dispose(),u&&u.dispose(),t(e,null)})}function o(n){if(n.name)return n.name;var i=n.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(i)?i.split("\n")[0].replace(t,"$1")||null:null}function d(n,i){n&&n.attr("data-widget",o(i.constructor)||"unknown")}return i.bindingHandlers.inject={init:function(n,i){return e(n,i()),{controlsDescendantBindings:!0}},transition:function(n){n&&n.remove()}},e}),define("WindowHost/WindowViewModel",["knockout"],function(n){return function(){var i=this;this.widget=n.observable(null),this.dispose=function(){i.widget(null)}}}),define("WindowHost/WindowHostViewModel",["knockout","./WindowViewModel"],function(n,i){return function(){var t=this,e="wnd",o={};this.windows=n.observableArray([]),this.update=function(n,d){var r=o[e+n];r||(r=new i(n),o[e+n]=r,t.windows.push(r)),r.widget(d)},this.remove=function(n){var i=o[e+n];i&&(i.dispose(),t.windows.remove(i))}}}),define("WindowHost/WindowHostWidget",["Widget","WindowHost/WindowHostViewModel"],function(n,i){return function(){n.extend(this,[new i,'<div class="window-host" data-bind="foreach: windows"><div data-bind="inject: widget"></div></div>']),this.exportMethods("update","remove")}}),define("ko.bindings/windowInject",["jquery","knockout","WindowHost/WindowHostWidget","../widgetFor"],function(n,i,t,e){function o(){return s||(s=new t,s.appendTo(n("body")),s.init()),s}function d(n,t){var d=r++;i.computed({read:function(){var r=i.unwrap(t);i.dependencyDetection.ignore(function(){o().update(d,r),e(n,r)})},disposeWhenNodeIsRemoved:n}),i.utils.domNodeDisposal.addDisposeCallback(n,function(){o().remove(d),e(n,null)})}i.bindingHandlers.windowInject={init:function(n,i){return d(n,i()),{controlsDescendantBindings:!0}}};var r=1,s=null;return d}),define("registerBinding",["jquery","knockout","ko.bindings/inject","ko.bindings/windowInject","widgetFor"],function(n,i,t,e,o){return function(n,d,r){if(i.bindingHandlers[d])throw new Error("Binding conflict. Binding '"+d+"' is already exist");i.bindingHandlers[d]={init:function(i,o){var d=new n;return r&&1==r.windowInject?e(i,d):t(i,d),r&&r.init&&r.init(d,o),{controlsDescendantBindings:!0}},update:function(n,t){var e=o(n);r&&r.update&&r.update(e,t),r&&(r.init||r.update)||e.init(i.unwrap(t()))}}}}),define("ko.bindings/injectAnimation",["jquery","knockout","./inject"],function(n,i){i.bindingHandlers.injectAnimation={update:function(t,e){n(t).data("injectAnimation",i.unwrap(e()))},animations:{none:function(n){n&&n.remove()},fadeIn:function(n,i){n&&n.remove(),n&&i&&i.hide().fadeIn()}}},i.bindingHandlers.inject.transition=function(n,t,e){var o=e.data("injectAnimation");if(o){var d=i.bindingHandlers.injectAnimation.animations[o];d&&d(n,t)}}}),define("ko.widget",["knockout","Widget","ko.bindings/inject","ko.bindings/windowInject","registerBinding","widgetFor","ko.bindings/injectAnimation"],function(n,i,t,e,o,d){return i.inject=t,i.windowInject=e,i.registerBinding=o,n.Widget=n.widget=i,n.widgetFor=d,i});