define("Widget",["jquery","knockout"],function(n,i){function t(t,e){function o(n){if(n.name)return n.name;var i=n.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(i)?i.split("\n")[0].replace(t,"$1")||null:null}function d(){var n=o(s.constructor)||"unknown";null!=n&&r&&r.attr("data-widget",n)}var s=this,r=null;this.setTemplate=function(n,i){var t=new RegExp("(<!--"+n+"Template-->[ \r\n]*)((.|\r|\n)*?)([ \r\n]*<!--/"+n+"Template-->)","g");e=e.replace(t,"$1"+i+"$4")},this.exportMethods=function(){for(var n=arguments,i=0;i<n.length;i++){var e=n[i];void 0!=t&&void 0!==t[e]&&(s[e]=t[e])}},this.init=function(){return t&&t.init?t.init.apply(t,arguments):void 0},this.appendTo=function(o){r=o,d();var s=n(e);if(r.append(s),null==t)throw new Error("Widget can not be attached because of viewModel is null");i.applyBindings(t,s[0])},this.dispose=function(){t&&t.dispose&&t.dispose(),r&&r[0]&&(i.cleanNode(r[0]),r=null)},this.settings=function(n){if(n)for(var i in n)if(n.hasOwnProperty(i))if(/.*\.settings$/.test(i)){var e=t[i.replace(".settings","")];e().settings(n[i])}else{var e=t[i];e&&e(n[i])}}}return t.extend=function(n,i){i=void 0===i?[]:i,t.apply(n,i)},t}),define("ko.bindings/inject",["jquery","knockout"],function(n,i){function t(t,e){function o(t){s&&s.dispose();var e=null;s=t,s&&(e=n('<div class="widget"></div>'),e.appendTo(d),s.appendTo(e));var o=e?e.prev():d.children().last();i.bindingHandlers.inject.transition(o,e,d)}var d=n(t),s=null,r=null;o(i.unwrap(e)),i.isObservable(e)&&(r=e.subscribe(o)),i.utils.domNodeDisposal.addDisposeCallback(t,function(){r&&r.dispose(),s&&s.dispose()})}return i.bindingHandlers.inject={init:function(n,i){return t(n,i()),{controlsDescendantBindings:!0}},transition:function(n){n&&n.remove()}},t}),define("ko.bindings/injectAnimation",["jquery","knockout","./inject"],function(n,i){i.bindingHandlers.injectAnimation={update:function(t,e){n(t).data("injectAnimation",i.unwrap(e()))},animations:{none:function(n){n&&n.remove()},fadeIn:function(n,i){n&&n.remove(),n&&i&&i.hide().fadeIn()}}},i.bindingHandlers.inject.transition=function(n,t,e){var o=e.data("injectAnimation");if(o){var d=i.bindingHandlers.injectAnimation.animations[o];d&&d(n,t)}}}),define("WindowHost/WindowViewModel",["knockout"],function(n){return function(){var i=this;this.widget=n.observable(null),this.dispose=function(){i.widget(null)}}}),define("WindowHost/WindowHostViewModel",["knockout","./WindowViewModel"],function(n,i){return function(){var t=this,e="wnd",o={};this.windows=n.observableArray([]),this.update=function(n,d){var s=o[e+n];s||(s=new i(n),o[e+n]=s,t.windows.push(s)),s.widget(d)},this.remove=function(n){var i=o[e+n];i&&(i.dispose(),t.windows.remove(i))}}}),define("text!WindowHost/WindowView.htm",[],function(){return'<div class="window-host" data-bind="foreach: windows">\r\n    <div data-bind="inject: widget">\r\n    </div>\r\n</div>\r\n'}),define("WindowHost/WindowHostWidget",["Widget","WindowHost/WindowHostViewModel","text!WindowHost/WindowView.htm"],function(n,i,t){return function(){n.extend(this,[new i,t]),this.exportMethods("update","remove")}}),define("ko.bindings/windowInject",["jquery","knockout","WindowHost/WindowHostWidget"],function(n,i,t){function e(){return d||(d=new t,d.appendTo(n("body")),d.init()),d}i.bindingHandlers.windowInject={init:function(n,t){var d=o++,s=t();return i.computed({read:function(){var n=i.unwrap(s);i.dependencyDetection.ignore(function(){e().update(d,n)})},disposeWhenNodeIsRemoved:n}),i.utils.domNodeDisposal.addDisposeCallback(n,function(){e().remove(d)}),{controlsDescendantBindings:!0}}};var o=1,d=null}),define("ko.widget",["knockout","Widget","ko.bindings/inject","ko.bindings/injectAnimation","ko.bindings/windowInject"],function(n,i,t){return i.inject=t,n.Widget=n.widget=i,i});