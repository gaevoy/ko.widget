define("Widget",["jquery","knockout"],function(n,i){function e(e,t){function o(){var o=n(t);a.append(o),null!=e&&i.applyBindings(e,o[0])}function s(n){if(n.name)return n.name;var i=n.toString().split("\n")[0],e=/^function ([^\s(]+).+/;return e.test(i)?i.split("\n")[0].replace(e,"$1")||null:null}function d(){var n=s(r.constructor)||"unknown";null!=n&&a&&a.attr("data-widget",n)}var r=this,a=null,u=!1;this.setTemplate=function(n,i){var e=new RegExp("(<!--"+n+"Template-->[ \r\n]*)((.|\r|\n)*?)([ \r\n]*<!--/"+n+"Template-->)","g");t=t.replace(e,"$1"+i+"$4")},this.exportMethods=function(){for(var n=arguments,i=0;i<n.length;i++){var t=n[i];void 0!=e&&void 0!==e[t]&&(r[t]=e[t])}},this.init=function(){return e&&e.init?e.init.apply(e,arguments):void 0},this.appendTo=function(n){a=n,d(),o()},this.dispose=function(){e&&e.dispose&&e.dispose(),a=null,e=null,t=null,u=!0},this.settings=function(n){if(n)for(var i in n)if(n.hasOwnProperty(i))if(/.*\.settings$/.test(i)){var t=e[i.replace(".settings","")];t().settings(n[i])}else{var t=e[i];t&&t(n[i])}}}return e.extend=function(n,i){i=void 0===i?[]:i,e.apply(n,i)},e}),define("ko.bindings/inject",["jquery","knockout"],function(n,i){i.bindingHandlers.inject={init:function(e,t,o){function s(e){var t=u.children();if(t.length>1){for(var o=0;o<t.length;o++)i.cleanNode(t[o]),n(t[o]).remove();t=[]}a&&(a.dispose(),a=null);var s=t[0]||null;s&&i.cleanNode(s);var r=null;if(a=e,null!=a&&a.appendTo){var l=n('<div class="widget"></div>');l.appendTo(u),a.appendTo(l),r=l[0]}var c=i.utils.peekObservable(d);if("string"!=typeof c)throw new Error("InjectAnimation is unknown");n.browser.safari===!0&&(c="none");var f=i.injectAnimations[c]||i.injectAnimations.none;f(s,r)}var d=o().injectAnimation||"none",r=t(),a=null,u=n(e);s(i.utils.unwrapObservable(r));var l=i.isObservable(r)?r.subscribe(s):null;return i.utils.domNodeDisposal.addDisposeCallback(e,function(){i.utils.domNodeDisposal.removeDisposeCallback(e,arguments.callee),l&&l.dispose()}),{controlsDescendantBindings:!0}}},i.injectAnimations={none:function(i){i&&n(i).remove()},fadeIn:function(i,e){i&&n(i).remove(),i&&e&&n(e).hide().fadeIn()},fade:function(i,e){if(i&&null==e)n(i).remove();else if(i&&e){var t=200;if(i){var o=n(i);n(e).css({position:"relative",top:"-"+o.height()+"px"}),o.fadeOut(t).promise().done(function(){o.remove()})}n(e).hide().fadeIn(t).promise().done(function(){i&&n(i).remove(),n(e).css({position:"static",top:"auto"})})}}}}),define("WindowHost/WindowViewModel",["knockout"],function(n){return function(){var i=this;this.widget=n.observable(null),this.dispose=function(){i.widget(null)}}}),define("WindowHost/WindowHostViewModel",["knockout","./WindowViewModel"],function(n,i){return function(){var e=this,t="wnd",o={};this.windows=n.observableArray([]),this.update=function(n,s){var d=o[t+n];d||(d=new i(n),o[t+n]=d,e.windows.push(d)),d.widget(s)},this.remove=function(n){var i=o[t+n];i&&(i.dispose(),e.windows.remove(i))}}}),define("text!WindowHost/WindowView.htm",[],function(){return'<div class="window-host" data-bind="foreach: windows">\r\n    <div data-bind="inject: widget">\r\n    </div>\r\n</div>\r\n'}),define("WindowHost/WindowHostWidget",["Widget","WindowHost/WindowHostViewModel","text!WindowHost/WindowView.htm"],function(n,i,e){return function(){n.extend(this,[new i,e]),this.exportMethods("update","remove")}}),define("ko.bindings/windowInject",["jquery","knockout","WindowHost/WindowHostWidget"],function(n,i,e){function t(){return s||(s=new e,s.appendTo(n("body")),s.init()),s}i.bindingHandlers.windowInject={init:function(n,e){var s=o++,d=e();return i.computed({read:function(){var n=i.unwrap(d);i.dependencyDetection.ignore(function(){t().update(s,n)})},disposeWhenNodeIsRemoved:n}),i.utils.domNodeDisposal.addDisposeCallback(n,function(){t().remove(s)}),{controlsDescendantBindings:!0}}};var o=1,s=null}),define("ko.widget",["knockout","Widget","ko.bindings/inject","ko.bindings/windowInject"],function(n,i){return n.Widget=n.widget=i,i});